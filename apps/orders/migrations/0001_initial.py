# Generated by Django 5.0.3 on 2024-11-21 01:33

import datetime
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('configuration', '0001_initial'),
        ('inventory', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Affiliation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50, unique=True, verbose_name='nombre')),
                ('concept', models.CharField(choices=[('Descuento', 'Descuento'), ('Exonerado', 'Exonerado'), ('Incremento', 'Incremento')], default='Descuento', max_length=25, verbose_name='concepto')),
                ('value', models.DecimalField(decimal_places=2, default=0.0, max_digits=5, verbose_name='valor')),
                ('rif', models.CharField(blank=True, max_length=30, verbose_name='rif')),
                ('phone_number', models.CharField(blank=True, max_length=12, null=True, verbose_name='número de teléfono')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='correo electrónico')),
                ('address', models.CharField(blank=True, max_length=200)),
                ('contact_person', models.CharField(blank=True, max_length=60)),
                ('credit_limit', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='límite de crédito')),
                ('credit_days', models.IntegerField(default=15, verbose_name='días de crédito')),
                ('postal_code', models.CharField(blank=True, max_length=4, null=True, verbose_name='código postal')),
                ('price_type', models.CharField(choices=[('Particular', 'standard'), ('Emergencia', 'emergency'), ('Seguro/empresa', 'affiliated'), ('Domicilio', 'home_service'), ('Fin de semana y feriado', 'holiday'), ('Exonerado', 'exempt')], default='Seguro/empresa', max_length=30, verbose_name='tipo de precio')),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'afiliación',
                'verbose_name_plural': 'afiliaciones',
                'db_table': 'affiliation',
                'permissions': (('view_affiliation', 'Acceso al modulo de afiliaciones'), ('add_affiliation', 'Crear afiliación'), ('delete_affiliation', 'Eliminar afiliación'), ('change_affiliation', 'Modificar afiliación')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Container',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'contenedor',
                'verbose_name_plural': 'contenedores',
                'db_table': 'container',
                'permissions': (('view_containers', 'Acceso al modulo de contenedores'), ('add_container', 'Crear contenedor'), ('delete_container', 'Eliminar contenedor'), ('change_container', 'Modificar contenedor')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='LabTestCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'categoría de examen',
                'verbose_name_plural': 'categoría de examenes',
                'db_table': 'lab_test_category',
                'permissions': (('view_lab_test_category', 'Ver categoría de examenes'), ('add_lab_test_category', 'Crear categoría de examen'), ('delete_lab_test_category', 'Eliminar categoría de examen'), ('change_lab_test_category', 'Modificar categoría de examen')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=14, verbose_name='descuento')),
                ('price', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='precio')),
                ('status', models.CharField(choices=[('Por procesar', 'Por procesar'), ('Procesado', 'Procesado'), ('Aprobado', 'Aprobado'), ('Impreso', 'Impreso'), ('Entregado', 'Entregado')], default='Por procesar', max_length=20, verbose_name='estado')),
            ],
            options={
                'verbose_name': 'detalle de orden',
                'verbose_name_plural': 'detalle de ordenes',
                'db_table': 'order_detail',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('invoice_number', models.CharField(blank=True, max_length=20, verbose_name='numero de factura')),
                ('invoice_date', models.DateField(auto_now=True, verbose_name='fecha de factura')),
                ('client_name', models.CharField(blank=True, max_length=250, verbose_name='nombre o razon social')),
                ('on_behalf', models.CharField(blank=True, max_length=250, verbose_name='a nombre de')),
                ('ci_or_rif', models.CharField(blank=True, max_length=50, verbose_name='cedula o rif')),
                ('address', models.CharField(blank=True, max_length=20, verbose_name='domicilio')),
                ('phone_number', models.CharField(blank=True, max_length=20, verbose_name='numero de telefono')),
                ('hour', models.TimeField(auto_now=True)),
                ('status', models.CharField(choices=[('Pagado', 'pagado'), ('Pendiente', 'pendiente'), ('Anulado', 'anulado')], default='Pagado', max_length=30, verbose_name='estado')),
                ('total', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='total facturado')),
                ('secondary_total', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='total en divisa')),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='descuento')),
                ('payment_type', models.CharField(choices=[('Contado', 'Contado'), ('Crédito', 'Crédito')], default='Crédito', max_length=10, verbose_name='condicion de pago')),
                ('comment', models.CharField(blank=True, max_length=250, verbose_name='comentario')),
            ],
            options={
                'verbose_name': 'factura',
                'verbose_name_plural': 'facturas',
                'db_table': 'order_invoice',
                'permissions': (('view_invoice', 'Ver facturas'), ('add_invoice', 'Crear factura'), ('cancel_invoice', 'Anular factura')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='OrderPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('payment_amount', models.DecimalField(decimal_places=2, default=0.01, max_digits=14, verbose_name='abono')),
                ('payment_method', models.CharField(choices=[('Efectivo', 'efectivo'), ('Pago movil', 'pago movil'), ('Transferencia', 'transferencia'), ('Tarjeta de débito', 'tarjeta de debito'), ('Tarjeta de crédito', 'tarjeta de crédito'), ('Divisa', 'divisa'), ('Cheque', 'cheque'), ('Otros', 'otros')], default='Efectivo', max_length=20, verbose_name='método de pago')),
                ('payment_ref', models.CharField(blank=True, max_length=50, verbose_name='número de referencia')),
                ('payment_date', models.DateField(auto_now=True, verbose_name='fecha de pago')),
                ('payment_time', models.TimeField(auto_now=True, verbose_name='hora de pago')),
                ('comment', models.CharField(blank=True, max_length=150, verbose_name='comentario')),
            ],
            options={
                'verbose_name': 'abono de orden o factura',
                'verbose_name_plural': 'abonos de ordenes o factura',
                'db_table': 'order_payment',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Parameter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=30)),
                ('parameter_type', models.CharField(choices=[('number', 'number'), ('text', 'text'), ('select', 'select'), ('composite', 'composite')], default='number', max_length=20)),
                ('measure_unit', models.CharField(blank=True, max_length=20)),
                ('options', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'parametro',
                'verbose_name_plural': 'parametros',
                'db_table': 'parameter',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Patient',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('names', models.CharField(blank=True, max_length=80, verbose_name='nombres')),
                ('last_names', models.CharField(blank=True, max_length=80, verbose_name='apellidos')),
                ('cedula', models.CharField(max_length=9, unique=True, verbose_name='cédula')),
                ('phone_number', models.CharField(blank=True, max_length=11, null=True, verbose_name='número de teléfono')),
                ('address', models.CharField(blank=True, max_length=250, verbose_name='dirección')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='email')),
                ('is_active', models.BooleanField(default=True)),
                ('birthdate', models.DateField(verbose_name='fecha de nacimiento')),
                ('gender', models.CharField(choices=[('M', 'Masculino'), ('F', 'Femenino')], max_length=1, verbose_name='género')),
            ],
            options={
                'verbose_name': 'paciente',
                'verbose_name_plural': 'pacientes',
                'db_table': 'patient',
                'permissions': (('view_patient', 'Acceso al modulo de pacientes'), ('add_patient', 'Crear paciente'), ('delete_patient', 'Eliminar paciente'), ('change_patient', 'Modificar paciente')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='PatientAffiliation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'verbose_name': 'afiliacion de paciente',
                'verbose_name_plural': 'afiliaciones de paciente',
                'db_table': 'patient_affiliation',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='ReferenceValue',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50)),
                ('normal_value', models.CharField(blank=True, max_length=50, null=True, verbose_name='valores normales')),
            ],
            options={
                'verbose_name': 'valor de referencia',
                'verbose_name_plural': 'valores de referencia',
                'db_table': 'reference_value',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Result',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('Por procesar', 'Por procesar'), ('Procesado', 'Procesado'), ('Aprobado', 'Aprobado'), ('Impreso', 'Impreso'), ('Entregado', 'Entregado')], default='Por procesar', max_length=50, verbose_name='estado')),
                ('result_date', models.DateField(auto_now=True, verbose_name='fecha de resultados')),
                ('hour', models.TimeField(auto_now=True)),
                ('observation', models.TextField(blank=True, verbose_name='observación')),
            ],
            options={
                'verbose_name': 'resultado',
                'verbose_name_plural': 'resultados',
                'db_table': 'result',
                'permissions': (('view_result', 'Acceso al modulo de carga de resultados'), ('add_result', 'Cargar resultados a pacientes'), ('approve_result', 'Aprobar resultados'), ('change_result', 'Modificar resultados')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='ResultValues',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('measure_unit', models.CharField(blank=True, max_length=30, null=True, verbose_name='unidad de medida')),
                ('parameter', models.CharField(max_length=50, verbose_name='parametro')),
                ('result_value', models.CharField(max_length=100, verbose_name='resultado')),
                ('parameter_type', models.CharField(choices=[('number', 'number'), ('text', 'text'), ('select', 'select'), ('composite', 'composite')], default='number', max_length=20)),
                ('reference_value', models.CharField(blank=True, max_length=20, null=True, verbose_name='valor de referencia')),
                ('normal_value', models.CharField(blank=True, max_length=20, null=True, verbose_name='valores normales')),
            ],
            options={
                'verbose_name': 'detalle de resultado',
                'verbose_name_plural': 'detalle de resultados',
                'db_table': 'result_values',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Sample',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('is_active', models.BooleanField(default=True)),
                ('description', models.CharField(blank=True, max_length=200)),
            ],
            options={
                'verbose_name': 'muestra',
                'verbose_name_plural': 'muestras',
                'db_table': 'sample',
                'permissions': (('view_samples', 'Acceso al modulo de muestras'), ('add_sample', 'Crear muestra'), ('delete_sample', 'Eliminar muestra'), ('change_sample', 'Modificar muestra')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='LabTest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True)),
                ('abbreviation', models.CharField(max_length=6, unique=True)),
                ('description', models.CharField(blank=True, max_length=250)),
                ('indications', models.CharField(blank=True, max_length=250)),
                ('test_type', models.CharField(choices=[('simple', 'Simple'), ('perfil', 'Perfil')], default='simple', max_length=10)),
                ('is_active', models.BooleanField(default=True)),
                ('container', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, to='orders.container')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='orders.labtestcategory')),
            ],
            options={
                'verbose_name': 'examen',
                'verbose_name_plural': 'examenes',
                'db_table': 'lab_test',
                'permissions': (('view_lab_test', 'Ver examenes'), ('add_lab_test', 'Crear examen'), ('delete_lab_test', 'Eliminar examen'), ('change_lab_test', 'Modificar examen')),
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='LabTestItems',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(default=1)),
                ('reduction_type', models.CharField(choices=[('captura_resultados', 'Captura de resultados'), ('orden', 'Orden')], default='captura_resultados', max_length=20)),
                ('item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='+', to='inventory.item')),
                ('lab_test', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='orders.labtest')),
            ],
            options={
                'verbose_name': 'artículo del examen',
                'verbose_name_plural': 'artículos de examenes',
                'db_table': 'lab_test_items',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='LabTestPrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('standard', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('emergency', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('affiliated', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('home_service', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('exempt', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('holiday', models.DecimalField(decimal_places=2, default=0.0, max_digits=10)),
                ('lab_test', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='prices', to='orders.labtest')),
                ('laboratory', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='+', to='configuration.laboratory')),
            ],
            options={
                'verbose_name': 'costo de examen',
                'verbose_name_plural': 'costo de examenes',
                'db_table': 'lab_test_price',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='LabTestProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('lab_test', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='+', to='orders.labtest')),
                ('profile', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lab_tests', to='orders.labtest')),
            ],
            options={
                'verbose_name': 'perfil de examen',
                'verbose_name_plural': 'perfil de examenes',
                'db_table': 'lab_test_profile',
                'default_permissions': (),
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(blank=True, max_length=20, null=True, verbose_name='codigo')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='fecha de creación')),
                ('order_date', models.DateField(default=datetime.datetime.now, verbose_name='fecha de orden')),
                ('delivery_date', models.DateField(default=datetime.datetime.now, null=True, verbose_name='fecha de entrega')),
                ('credit_deadline', models.DateField(blank=True, null=True, verbose_name='fecha límite de crédito')),
                ('patient_number', models.PositiveIntegerField(default=0, verbose_name='número de paciente del día')),
                ('hour', models.TimeField(auto_now=True)),
                ('comment', models.TextField(blank=True, verbose_name='comentario')),
                ('secondary_total', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='total en divisa')),
                ('main_total', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='total principal')),
                ('discount', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='descuento')),
                ('amount_paid', models.DecimalField(decimal_places=2, default=0.0, max_digits=14, verbose_name='monto pagado')),
                ('exchange_rate', models.DecimalField(decimal_places=4, default=1.0, max_digits=10, verbose_name='tasa de cambio')),
                ('credit_limit', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='límite de crédito')),
                ('status', models.CharField(choices=[('Pendiente', 'pendiente'), ('Parcialmente procesado', 'Parcialmente procesado'), ('Borrador', 'borrador'), ('Anulado', 'anulado')], default='Pendiente', max_length=35, verbose_name='estado')),
                ('cost_type', models.CharField(choices=[('Particular', 'standard'), ('Emergencia', 'emergency'), ('Seguro/empresa', 'affiliated'), ('Domicilio', 'home_service'), ('Fin de semana y feriado', 'holiday'), ('Exonerado', 'exempt')], default='Particular', max_length=30, verbose_name='tipo de costo')),
                ('payment_type', models.CharField(choices=[('Contado', 'Contado'), ('Crédito', 'Crédito')], default='Contado', max_length=10, verbose_name='Tipo de pago')),
                ('keep_patient_number', models.BooleanField(default=False, verbose_name='conservar numero de paciente')),
                ('is_invoiced', models.BooleanField(default=False, verbose_name='facturado')),
                ('affiliation', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='affiliations', to='orders.affiliation')),
                ('cash_register', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='order_cash_registers', to='configuration.cashregister')),
                ('laboratory', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='laboratory_orders', to='configuration.laboratory')),
                ('main_currency', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='configuration.currency', verbose_name='moneda principal')),
                ('secondary_currency', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='configuration.currency', verbose_name='moneda secundaria')),
                ('tax', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, related_name='+', to='configuration.tax', verbose_name='impuesto')),
            ],
            options={
                'verbose_name': 'orden',
                'verbose_name_plural': 'ordenes',
                'db_table': 'order',
                'permissions': (('view_orders', 'Acceso al modulo de ordenes'), ('add_order', 'Crear ordenes'), ('cancel_order', 'Anular orden'), ('change_order', 'Modificar orden'), ('cancel_order_invoice', 'Anular factura de orden')),
                'default_permissions': (),
            },
        ),
    ]
